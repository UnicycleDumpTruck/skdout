<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <title>{{ page.weekday }}</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="apple-touch-icon" href="/sked/assets/apple-touch-icon.png">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!--<link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon.png">-->
    <link rel="icon" type="image/png" sizes="32x32" href="/sked/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/sked/favicon-16x16.png">
    <link rel="manifest" href="/sked/site.webmanifest">
    <link rel="mask-icon" href="/sked/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="theme-color" content="#ffffff">
    <script>
        function showToday() {
            let weekdays = ['Weekend','Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Weekend']
            var d = new Date();
            var n = d.getDay();
            var today = 'Weekend'; //weekdays[n];
            document.getElementById("page_title").innerHTML = today;
            
            for(var j = 0; j < weekdays.length; j++) {
                var divsToHide = document.getElementsByClassName(weekdays[j]); //divsToHide is an array
                for(var i = 0; i < divsToHide.length; i++){
                    //divsToHide[i].style.visibility = "hidden"; // or
                    divsToHide[i].style.display = "none"; // depending on what you're doing
                }
            }
            var divsToShow = document.getElementsByClassName(today); //divsToHide is an array
            for(var i = 0; i < divsToShow.length; i++){
                //divsToShow[i].style.visibility = "hidden"; // or
                divsToShow[i].style.display = "grid"; // depending on what you're doing
            }
        }
    </script>
</head>

<body onload="showToday()">
    <div class="body_container">
        <div class="title_nav_container">
            <div class="page_title" id="page_title"></div>
            <div class="nav_container">
                <a class="day_link" href="/sked/monday">Monday</a>
                <a class="day_link" href="/sked/tuesday">Tuesday</a>
                <a class="day_link" href="/sked/wednesday">Wednesday</a>
                <a class="day_link" href="/sked/thursday">Thursday</a>
                <a class="day_link" href="/sked/friday">Friday</a>
                <a class="day_link" href="/sked/weekend">Weekend</a>
            </div>
        </div>
        <br>
        <div class="schedule" style=
                "grid-template-rows: repeat({{site.data.context.num_rows}}, 3.2em); 
                {% if page.weekday == 'Weekend' %}
                grid-template-columns: 30px 0px repeat(2, 1fr);
                {% else %}
                grid-template-columns: 30px repeat(3, 1fr);
                {% endif %}
                ">
            {% for item in site.data.time_list %}
            <div class="time" style="grid-row-start: {{ item.first }}; grid-column-start: 1;">
                {{ item.last | date: '%-I:%M' }}
            </div>
            {% endfor %} 
            {% for item in site.data.hour_rows %}
            <div class="hour"
                style="grid-row-start: {{ item.first }}; grid-row-end: span 4; grid-column-start:1; grid-column-end: span 4;">
            </div>
            {% endfor %}
            {% assign day_events = site.data.events %}
            {% for ev in day_events %}
            <div class="item {{ ev.class }} {{ ev.weekday }}"
                style="grid-row: {{ ev.start_row }} / {{ ev.end_row }}; grid-column-start: {{ ev.row }}; {% if ev.task == "Prop Swap Only" %} grid-column-end: span 2; {% endif %}">
                <div class="text_container">
                    <!--<span class="event_time">{{ev.start_string | slice: 1, 5}} to {{ev.end_string| slice: 1, 5}}</span>-->
                    <span class="event_time">{{ev.time_range}}</span>
                    {% if ev.task != "Prop Swap Only" %}
                    <br />
                    {% endif %}
                    <span class="event_location">{% if ev.long_location %}{{ ev.long_location }}:</span>{% else %}{{ ev.location }}:</span>{% endif %}
                    
                    {% if ev.task != "Prop Swap Only" %}
                    <!-- <br /> -->
                    {% endif %}
                    <span class="event_task">{{ev.task}}</span>
                </div>
                <div class="img_container"
                    style="{% if ev.task == "Prop Swap Only" %} grid-column-start: 4; grid-row-start: 1;{% else %} grid-column-start: 1; grid-column-end: 5; grid-row-start:2;{% endif %}">
                    {% for src in ev.icons %}
                    <img class="task_icon" src="/sked/assets/{{ src }}" alt="{{ src }}" />
                    {% if ev.task != "Prop Swap Only" %}
                    <br />
                    {% endif %}
                    {% endfor %}
                </div>
            </div>
            {% endfor %}
        </div>
    </div>



</body>

</html>